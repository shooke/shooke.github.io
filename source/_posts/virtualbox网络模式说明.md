---
title: virtualbox网络模式说明
categories:
  - 笔记
tags:
  - virtualbox
date: 2020-12-07 18:21:28
---

## 网络模式

VirtualBox的提供了四种网络接入模式，它们分别是： 
1、NAT 网络地址转换模式(NAT,Network Address Translation) 
2、Bridged Adapter 桥接模式 
3、Internal 内部网络模式 
4、Host-only Adapter 主机模式 

<!-- more -->

## 不同模式的功能

### NAT 网络地址转换模式

主要用于虚拟机访问外部网络。虚拟机可以访问宿主机，也可以访问外部网络的其他主机。
但是，这种模式下虚拟机对外是不可见的。任何主机都无法访问虚拟机，包括宿主机。
虚拟机就像一个幕后大佬，只有他看到你，你看不到他。


### Bridged Adapter（网桥模式）

这是一种最open的方式，它是通过主机网卡，架设了一条桥，直接连入到网络中了。因此，它使得虚拟机能被分配到一个网络中独立的IP，所有网络功能完全和在网络中的真实机器一样。
这种模式让虚拟机对外可见，虚拟机可以访问任何主机，其他主机也可以访问虚拟机。由于虚拟主机可见了，虚拟主机之间也可以相互访问。

### Internal（内网模式）

这是一种只有虚拟机之间通讯的模式，虚拟机不能访问宿主机，也不能访问外网。宿主机也无法访问虚拟机。
当你启动多个虚拟机，并且设置为同一网段时，虚拟机之间可以相互通讯。

### Host-only Adapter（主机模式）

高级diy模式，默认情况下与`Internal（内网模式）`有点相似，虚拟主机之间可以通讯，不同支出在于，它不限制网段。虚拟机无需设置为同一个网段，即可相互通讯。
主机模式，这是一种比较复杂的模式，需要有比较扎实的网络基础知识才能玩转。可以说前面几种模式所实现的功能，在这种模式下，通过虚拟机及网卡的设置都可以被实现。

我们可以理解为Guest在主机中模拟出一张专供虚拟机使用的网卡，所有虚拟机都是连接到该网卡上的，我们可以通过设置这张网卡来实现上网及其他很多功能，比如（网卡共享、网卡桥接等）。

虚拟机与主机的关系：默认不能相互访问，双方不属于同一IP段，host-only网卡默认IP段为192.168.56.X 子网掩码为255.255.255.0，后面的虚拟机被分配到的也都是这个网段。通过网卡共享、网卡桥接等，可以实现虚拟机于主机相互访问。

虚拟机与网络主机的关系：默认不能相互访问，原因同上，通过设置，可以实现相互访问。

虚拟机与虚拟机的关系：默认可以相互访问，都是同处于一个网段。

## 实战环节

### 虚拟主机访问外网
将网卡设置为NAT模式即可

### 虚拟主机与宿主机互通并可以链接外网
最简单的方式使用桥接模式，一张网卡就足够了
还有一种复杂的方式，使用`NAT`与`Host-only Adapter`组合实现。网卡一用`NAT`可以保证虚拟机访问外网。网卡二`Host-only Adapter`让虚拟机拥有自己的ip，这样宿主机就可以访问到虚拟机了。


## 参考资料
https://blog.csdn.net/chaishen10000/article/details/82984811
https://jingyan.baidu.com/article/215817f7cd8d9f5fda1423ce.html
https://blog.csdn.net/dkfajsldfsdfsd/article/details/79441874

