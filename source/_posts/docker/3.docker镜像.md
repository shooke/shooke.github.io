---
title: docker镜像(Image)
categories:
  - 一点一点了解docker
tags:
  - docker
  - docker image
date: 2020-03-03 11:12:37
---
镜像在学习docker的过程中非常重要，创建出一个适用于自己的镜像，才能让业务系统准确运行。

<!-- moer -->

## 拉取镜像

拉取镜像使用`docker pull`命令，格式如下：

>docker pull [选项] [Docker Registry 地址[:端口号]/]仓库名[:标签]

具体的选项可以通过 `docker pull --help` 命令看到，这里我们说一下镜像名称的格式。

- Docker 镜像仓库地址：地址的格式一般是 <域名/IP>[:端口号]。默认地址是 Docker Hub。
- 仓库名：`（叫镜像名更容易理解一些，毕竟pull下来在本地就是镜像）` 这里的仓库名是两段式名称，即 <用户名>/<软件名>。对于 Docker Hub，如果不给出用户名，则默认为`library`，也就是官方镜像。

```
docker pull ubuntu:18.04
```
这样就从官方镜像仓库中拉取了`ubuntu 18.04`版本的镜像。本地生成的镜像名称是`ubuntu` tag是`18.04`

## 列出本地镜像列表
`docker images`或`docker image ls`命令可以查看本地所有镜像
```
docker images          

```
可以看到本地所有镜像的列表，列表中有:仓库名(REPOSITORY)、标签(TAG)、镜像id(IMAGE ID)，创建时间(CREATED)，以及镜像大小(SIZE)
```
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
ubuntu              14.04               90d5884b1ee0        5 days ago          188 MB
php                 5.6                 f40e9e0f10c8        9 days ago          444.8 MB
nginx               latest              6f8d099c3adc        12 days ago         182.7 MB
mysql               5.6                 f2e8d6c772c0        3 weeks ago         324.6 MB
httpd               latest              02ef73cf1bc0        3 weeks ago         194.4 MB
ubuntu              15.10               4e3b13c8a266        4 weeks ago         136.3 MB
hello-world         latest              690ed74de00f        6 months ago        960 B
training/webapp     latest              6fae60ef3446        11 months ago       348.8 MB
```

## 推送镜像
有拉取就有推送，用户登录后可以通过`docker push`命令将自己的额镜像推送到`Docker Hub`
```
docker tag ubuntu:18.04 username/ubuntu:18.04
```
这样就把`ubuntu:18.04`推送到了`Docker Hub`上，自己的仓库空间下。其他人拉取的时候通过`username`来区分，就可以拉取你的镜像了。

## 使用镜像

执行`docker run`命令就可以启动本地镜像，生成容器了。详细内容看《4.docker容器》

## 参考资料
https://www.runoob.com/docker/docker-image-usage.html
https://yeasy.gitbooks.io/docker_practice/content/image/pull.html
https://yeasy.gitbooks.io/docker_practice/content/image/list.html