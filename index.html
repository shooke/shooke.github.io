<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  <meta name="keywords" content="python,php,mysql,前端">
  
  
  <title>
     舒克的博客
  </title>
  <!-- Icon -->
  
    <link rel="shortcut icon" href="/favicon.ico">
    
  
<link rel="stylesheet" href="/css/style.css">

  
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <main class="content">
    <section class="jumbotron">
  <div class="video">
    
    <div class="video-frame">
      <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
    </div>
    
    <div class="video-media">
      <video playsinline="" autoplay="" loop="" muted="" data-autoplay="" poster="/images/ocean/ocean.png"
        x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">舒克的博客</a></h1>
      <p></p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="舒克的博客"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>
<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>
    
    
    <article id="post-2024/ubuntu格式化硬盘并挂载" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2024/05/15/2024/ubuntu%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%A1%AC%E7%9B%98%E5%B9%B6%E6%8C%82%E8%BD%BD/">ubuntu格式化硬盘并挂载</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2024/05/15/2024/ubuntu%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%A1%AC%E7%9B%98%E5%B9%B6%E6%8C%82%E8%BD%BD/" class="article-date">
  <time datetime="2024-05-15T12:06:28.000Z" itemprop="datePublished">2024-05-15</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br><span class="line"></span><br><span class="line">sudo fdisk /dev/vdb</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>选择n新建分区，选择p主分区，选择1，回车确认默认起始扇区，回车确认默认结束扇区，输入+200G，回车确认格式化，输入w保存并退出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Welcome to fdisk (util-linux 2.34).</span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table.</span><br><span class="line">Created a new DOS disklabel with disk identifier 0x29c5f384.</span><br><span class="line"></span><br><span class="line">Command (m for help): n</span><br><span class="line">Partition type</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended (container for logical partitions)</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (1-4, default 1): </span><br><span class="line">First sector (2048-419430399, default 2048): </span><br><span class="line">Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (2048-419430399, default 419430399): </span><br><span class="line"></span><br><span class="line">Created a new partition 1 of type &#x27;Linux&#x27; and of size 200 GiB.</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered.</span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span><br></pre></td></tr></table></figure>
<p>将分区进行格式化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs.ext4 /dev/vdb1</span><br></pre></td></tr></table></figure>
<p>创建挂载目录，并将分区挂载到目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /mnt/vdb</span><br><span class="line">sudo mount /dev/vdb1 /mnt/vdb</span><br></pre></td></tr></table></figure>
<p>上面挂载是临时的，重启后会失效，需要修改fstab文件，开启自动挂载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;/dev/vdb1 /mnt/vdb ext4 defaults 0 0&#x27; | sudo tee -a /etc/fstab</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2024/05/15/2024/ubuntu%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%A1%AC%E7%9B%98%E5%B9%B6%E6%8C%82%E8%BD%BD/" data-id="clw7o5tfn0000iktr10qs38dx" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/springboot-static-property" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/11/13/2023/springboot-static-property/">SpringBoot注入静态属性或静态对象</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/11/13/2023/springboot-static-property/" class="article-date">
  <time datetime="2023-11-13T13:16:25.000Z" itemprop="datePublished">2023-11-13</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>springboot中注入对象很方便，但是如果类是个工具类，里面的静态方法，只能使用静态属性。这时候就要想办法让静态属性可以被注入。</p>
<p>重点有两点 </p>
<ol>
<li>让spring接管类，可以使用@Component、@Service等注解</li>
<li>使用setter或@PostConstruct，将属性注入</li>
</ol>
        
          <p>
            <a class="article-more-link" href="/2023/11/13/2023/springboot-static-property/">
              阅读全文...
            </a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/11/13/2023/springboot-static-property/" data-id="clw7o5tg00007iktrav5b8lnu" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/mysql-log-move" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/10/30/2023/mysql-log-move/">mysql log迁移</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/10/30/2023/mysql-log-move/" class="article-date">
  <time datetime="2023-10-30T11:40:18.000Z" itemprop="datePublished">2023-10-30</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>记录一次mysql log迁移经理</p>
<p>系统：Ubuntu18.04.6<br>mysql版本：mysql5.7</p>
<h2 id="停止mysql服务"><a href="#停止mysql服务" class="headerlink" title="停止mysql服务"></a>停止mysql服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop mysql.service</span><br></pre></td></tr></table></figure>
<h2 id="复制文件到新目录"><a href="#复制文件到新目录" class="headerlink" title="复制文件到新目录"></a>复制文件到新目录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /data/log/mysql</span><br><span class="line">sudo chown mysql:adm /data/log/mysql</span><br><span class="line">sudo cp /var/log/mysql/* /data/log/mysql</span><br></pre></td></tr></table></figure>
<h2 id="修改配置文件-etc-mysql-mysql-conf-d-mysqld-cnf-找到log的相关的配置修改目录"><a href="#修改配置文件-etc-mysql-mysql-conf-d-mysqld-cnf-找到log的相关的配置修改目录" class="headerlink" title="修改配置文件/etc/mysql/mysql.conf.d/mysqld.cnf,找到log的相关的配置修改目录"></a>修改配置文件<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>,找到log的相关的配置修改目录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">log_error = /data/log/mysql/error.log</span><br><span class="line">slow_query_log_file     = /data/log/mysql/mysql-slow.log</span><br><span class="line">log_bin                 = /var/log/mysql/mysql-bin.log</span><br></pre></td></tr></table></figure>
<h2 id="修改启动文件-etc-apparmor-d-usr-sbin-mysqld添加以下配置"><a href="#修改启动文件-etc-apparmor-d-usr-sbin-mysqld添加以下配置" class="headerlink" title="修改启动文件/etc/apparmor.d/usr.sbin.mysqld添加以下配置"></a>修改启动文件<code>/etc/apparmor.d/usr.sbin.mysqld</code>添加以下配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/data/log/mysql.err rw,</span><br><span class="line">/data/log/mysql.log rw,</span><br><span class="line">/data/log/mysql/ r,</span><br><span class="line">/data/log/mysql/** rw,</span><br></pre></td></tr></table></figure>
<h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart apparmor</span><br><span class="line">systemctl start mysql.service</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/10/30/2023/mysql-log-move/" data-id="clocugz0f0000sstr3q4zbcyl" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/springboot-jasypt" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/09/18/2023/springboot-jasypt/">springboot整合jasypt加密数据库配置</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/09/18/2023/springboot-jasypt/" class="article-date">
  <time datetime="2023-09-18T13:06:28.000Z" itemprop="datePublished">2023-09-18</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>项目中会遇到数据库名称和密码需要加密防止泄露的需求，因此引入了jasypt。下面的例子是将jasypt的加密密钥写在了配置文件中，为了安全，实际引用时，需要将配置放到服务器的启动命令中，避免在代码中暴露密钥</p>
<p>1.引入maven依赖jasypt-spring-boot-starter</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.0.4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>2.启动类添加注解@EnableEncryptableProperties</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import com.ulisesbocchio.jasyptspringboot.annotation.EnableEncryptableProperties;</span><br><span class="line">import org.springframework.boot.SpringApplication;</span><br><span class="line">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line">@SpringBootApplication</span><br><span class="line">@EnableEncryptableProperties</span><br><span class="line">public class AdminMain &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(AdminMain.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
          <p>
            <a class="article-more-link" href="/2023/09/18/2023/springboot-jasypt/">
              阅读全文...
            </a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/09/18/2023/springboot-jasypt/" data-id="clmoleb7i00000ctr4f41es6h" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jasypt/" rel="tag">jasypt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/java-jar-run" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/09/18/2023/java-jar-run/">jar包运行参数配置</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/09/18/2023/java-jar-run/" class="article-date">
  <time datetime="2023-09-18T12:06:28.000Z" itemprop="datePublished">2023-09-18</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>三种jar包启动时传参的方式</p>
<ol>
<li><p>jvm传值 -Dkey_name&#x3D;value<br>这种方式已 <code>-D</code>开头，放在jar包之前</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java  -Ddatabasename=test  -jar  test.jar</span><br></pre></td></tr></table></figure>
</li>
<li><p>给main函数传值 key_name&#x3D;value</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java  -jar  test.jar databasename=test</span><br></pre></td></tr></table></figure>
<p>治理要求参数放在jar包之后，main方法中可以接收参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) throws IOException &#123;</span><br><span class="line">           for(String arg : args)&#123;</span><br><span class="line">               log.info(&quot;参数：&quot; + arg);</span><br><span class="line">           &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>覆盖yaml或properties 文件参数 –key_name&#x3D;value</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar tes.jar --logName=log.txt</span><br></pre></td></tr></table></figure>
<p>这里要求参数放在jar包之后用<code>--</code>开头,程序中可以使用<code>@Value</code>注解获取参数值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(&quot;$&#123;logName&#125;&quot;)</span><br><span class="line">private String logName; //输出：log.txt</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/09/18/2023/java-jar-run/" data-id="clmoa9zee0000j8tr8rzkbdhw" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/linux配置步骤" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/09/18/2023/linux%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4/">jar包运行参数配置</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/09/18/2023/linux%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4/" class="article-date">
  <time datetime="2023-09-18T12:06:28.000Z" itemprop="datePublished">2023-09-18</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>三种jar包启动时传参的方式</p>
<ol>
<li><p>设置时区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-timezone &quot;Asia/Shanghai&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置java环境</p>
</li>
<li><p>配置dns</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/resolved.conf</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/09/18/2023/linux%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4/" data-id="clw7o5tfv0001iktr4vil3ud3" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/mysql-root-Super_priv" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/08/20/2023/mysql-root-Super_priv/">mysql root用户增加超级权限，解决无法给新建用户配置权限问题</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/08/20/2023/mysql-root-Super_priv/" class="article-date">
  <time datetime="2023-08-20T11:06:28.000Z" itemprop="datePublished">2023-08-20</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>mysql root用户通过外网登录数据库后，想要添加用户分配权限，结果发现不行。但是在服务器上通过localhost登录后可以配置。</p>
<p>原因是新增的<code>root@%</code>没有超级权限。只有个<code>root@localhost</code>才有。</p>
<p>解决方法是，使用<code>root@localhost</code>账户为<code>root@%</code>添加超级权限。</p>
<p>在服务器上使用<code>mysql -u root -p</code>登录，然后执行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE mysql.user SET Grant_priv=&#x27;Y&#x27;, Super_priv=&#x27;Y&#x27; WHERE User=&#x27;root&#x27;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
<p>这是通过mysql客户端工具，使用外网链接数据库就可以设置用户权限了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/08/20/2023/mysql-root-Super_priv/" data-id="cllx3nqk8006b30trcmp58ixm" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2023/spring-autowired" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2023/07/20/2023/spring-autowired/">spring官方建议不要使用@Autowired，完美解决方案</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2023/07/20/2023/spring-autowired/" class="article-date">
  <time datetime="2023-07-20T11:06:28.000Z" itemprop="datePublished">2023-07-20</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>Springboot官方建议使用final来修饰成员变量，然后通过构造方法来进行注入。原因：final修饰的成员变量是不能够被修改的，反射除外。</p>
<p>既然不推荐使用Autowired了，应该如何修改我们的代码呢？</p>
        
          <p>
            <a class="article-more-link" href="/2023/07/20/2023/spring-autowired/">
              阅读全文...
            </a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2023/07/20/2023/spring-autowired/" data-id="cllx3nqk7006730trea3b5z9r" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2021/ubuntu18-4多版本php安装" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2021/09/17/2021/ubuntu18-4%E5%A4%9A%E7%89%88%E6%9C%ACphp%E5%AE%89%E8%A3%85/">ubuntu18.4多版本php安装</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/09/17/2021/ubuntu18-4%E5%A4%9A%E7%89%88%E6%9C%ACphp%E5%AE%89%E8%A3%85/" class="article-date">
  <time datetime="2021-09-17T01:58:13.000Z" itemprop="datePublished">2021-09-17</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <h2 id="安装php-ppa源"><a href="#安装php-ppa源" class="headerlink" title="安装php ppa源"></a>安装php ppa源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:ondrej/php</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>老版本的12.4之前的ubuntu用下面的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-software-properties</span><br><span class="line">sudo add-apt-repository ppa:ondrej/php</span><br></pre></td></tr></table></figure>
<h2 id="更新源"><a href="#更新源" class="headerlink" title="更新源"></a>更新源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<h2 id="安装对应的版本"><a href="#安装对应的版本" class="headerlink" title="安装对应的版本"></a>安装对应的版本</h2><p>比如安装7.0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y php7.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2021/09/17/2021/ubuntu18-4%E5%A4%9A%E7%89%88%E6%9C%ACphp%E5%AE%89%E8%A3%85/" data-id="cllx3nqjj004130tr593p2xht" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/" rel="tag">php</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
    <article id="post-2021/ubuntu 18.04 Temporary failure in name resolution DNS解析问题，解决方法" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      
  
  <h2 class="article-title" itemprop="name">
    <a href="/2021/09/15/2021/ubuntu%2018.04%20Temporary%20failure%20in%20name%20resolution%20DNS%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">ubuntu 18.04 Temporary failure in name resolution DNS解析问题，解决方法</a>
  </h2>
  
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/09/15/2021/ubuntu%2018.04%20Temporary%20failure%20in%20name%20resolution%20DNS%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2021-09-15T07:47:12.000Z" itemprop="datePublished">2021-09-15</time>
</a>
      
<div class="article-category">
  <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>
</div>

    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
      
        
      
      
        <p>在ubuntu18.04 配置环境，发现无法下载网络资源，但是用ip可以访问外网资源。问题应该是dns没有解析。<br>试了好多种方法无效，最后找到了解决方法，记录一下</p>
<p>修改<code>/etc/systemd/resolved.conf</code>将里面的dns注释去掉，配置上自己的dns就可以了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Resolve]</span><br><span class="line">DNS=114.114.114.114</span><br></pre></td></tr></table></figure>
<p>注意：修改完成后，需要重启一下服务器</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xingjiehu.com/2021/09/15/2021/ubuntu%2018.04%20Temporary%20failure%20in%20name%20resolution%20DNS%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" data-id="cllx3nqjj003z30tr3qrd0hdc" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dns/" rel="tag">dns</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>

    </footer>

  </div>

  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>
    <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>舒克的博客 &copy; 2024</li>
      
        <li>
          
            <a href="https://beian.miit.gov.cn/" target="_blank"></a>
            
        </li>
      
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
    <p><ul class="list-inline">
  
  <li><i class="fe fe-bar-chart tooltip" data-tooltip="PV"></i> <span id="busuanzi_value_site_pv"></span></li>
  
  <li><i class="fe fe-smile-alt tooltip" data-tooltip="UV"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul></p>
  </div>
</footer>
  </main>
  <aside class="sidebar">
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/hexo.svg" alt="舒克的博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="fe fe-feed"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>






<script src="/js/ocean.js"></script>

</body>

</html>